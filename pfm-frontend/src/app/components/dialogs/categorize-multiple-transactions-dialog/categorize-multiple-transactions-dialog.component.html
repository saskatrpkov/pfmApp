<div class="dialog-container">
  <h2>Choose category</h2>

  <p class="dialog-description">
    You have selected {{ data.selectedCount }} transactions for multiple categorization
  </p>

  <mat-form-field appearance="fill" class="styled-field">
    <mat-label>Choose category</mat-label>
    <mat-select panelClass="category-select-panel" [(ngModel)]="selectedCategory" (selectionChange)="onCategoryChange()">
      @for (cat of parentCategories; track cat.id) {
        <mat-option class="category-select-option" [value]="cat">{{ cat.name }}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill" class="styled-field">
    <mat-label>Choose subcategory (optional)</mat-label>
    <mat-select panelClass="category-select-panel" [(ngModel)]="selectedSubcategory" [disabled]="subcategories.length === 0">
      @for (sub of subcategories; track sub.id) {
        <mat-option class="category-select-option" [value]="sub.name">{{ sub.name }}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <div class="dialog-actions">
    <button mat-button class="btn-secondary" (click)="onCancel()">Cancel</button>
    <button mat-button class="btn-primary" (click)="onApply()">Apply</button>
  </div>
</div>
